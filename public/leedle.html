<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./leedle-style.css">
    <script src="../words.js" type="text/javascript"></script>
    <script src="script.js" type="module"></script>
    <title>Document</title>
</head>

<script>
    let num_of_guesses = 6;
    let guesses_left = num_of_guesses;
    let nextBox = 0;
    let currGuess = [];
    let theWord = WORDS[Math.floor(Math.random() * WORDS.length)];
    console.log(theWord);

    addEventListener("keyup", (e) => {
        if (guesses_left == 0){
            return;
        }
        let pressedKey = String(e.key);

        if (pressedKey === "Backspace" && nextLetter !== 0){
            deleteLetter();
            return;
        }

        if (pressedKey === "Enter"){
            checkGuess();
            return;
        }

        let found = pressedKey.match(/[a-z]/gi);
        if (!found  || found.length > 1){
            return;
        } else {
            insertKey(pressedKey);
        }
    });

    function insertKey(pressedKey){
        if (nextLetter === 5) {
            return;
        }
        pressedKey = pressedKey.toLowerCase();
        let row = document.getElementById("box_row")
    }
</script>

<body>
    <div class="header">
        <h1>Leedle</h1>
        <h3>The Interactive Word Game</h3>
    </div>
    <div class="sheet">
        <script>
            for (i = 0; i < 31; i++){
                if (i < 5) {
                    document.write(`
                        <div class="box${i} first_row"></div>
                    `)
                } else if (i > 5 && i <= 10){
                    document.write(`
                        <div class="box${i} second_row"></div>
                    `)
                } else if (i > 10 && i <= 15){
                    document.write(`
                        <div class="box${i} third_row"></div>
                    `)
                } else if (i > 15 && i <= 20){
                    document.write(`
                        <div class="box${i} fourth_row"></div>
                    `)
                } else if (i > 20 && i <= 25){
                    document.write(`
                        <div class="box${i} fifth_row"></div>
                    `)
                } else if (i > 25 && i <= 30){
                    document.write(`
                        <div class="box${i} sixth_row"></div>
                    `)
                }
            }
        </script>
    </div>
    <div class="letter_sheet">
        <div class="letter_sheet_row">
            <script>
                let top_row = "qwertyuiop";
                let mid_row = "asdfghjkl";
                let bot_row = "zxcvbnm";
                for (i = 0; i < top_row.length; i++){
                    currentChar = top_row.charAt(i);
                    currentStr = currentChar.toUpperCase();
                    document.write(`
                        <button class="keyboard-button">${currentStr}</button>
                    `)
                }
            </script>
        </div>
        <div class="letter_sheet_row">
            <script>
                for (i = 0; i < mid_row.length; i++){
                    currentChar = mid_row.charAt(i);
                    currentStr = currentChar.toUpperCase();
                    document.write(`
                        <button class="keyboard-button">${currentStr}</button>
                    `)
                }
            </script>
        </div>
        <div class="letter_sheet_row">
            <button type="keyboard-button" class="del" style="width: 100px">DEL</button>
            <script>
                for (i = 0; i < bot_row.length; i++){
                    currentChar = bot_row.charAt(i);
                    currentStr = currentChar.toUpperCase();
                    document.write(`
                        <button class="keyboard-button">${currentStr}</button>
                    `)
                }
            </script>
            <button type="keyboard-button" class="enter" style="width: 150px">ENTER</button>
        </div>
    </div>
</body>
</html>